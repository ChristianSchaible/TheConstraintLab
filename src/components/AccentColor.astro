---
---
<script>
  // Generate a random accent color with good contrast
  function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

  function randomAccent() {
    // Prefer saturated but not too bright HSL so controls look good
    const h = randInt(0, 360);
    const s = randInt(60, 85);
    const l = randInt(40, 55);
    return `hsl(${h} ${s}% ${l}%)`;
  }

  // Apply color to document root and return value
  function applyAccent(color) {
    document.documentElement.style.setProperty('--color-accent', color);
    return color;
  }

  // Initialize
  let current = null;
  function init() {
    current = applyAccent(randomAccent());
  }

  function regen() {
    current = applyAccent(randomAccent());
  }

  // expose for console/testing
  window.__accent = { init, regen, get: () => current };
  document.addEventListener('DOMContentLoaded', init);
</script>

<div class="randomicon" role="region" aria-label="Accent color control">
  <p>Accent Color</p>
  <div style="display:flex;gap:0.5rem;align-items:center;">
    <div class="swatch" aria-hidden="true" title="Current accent color"></div>
  </div>
</div>

<style>
  p{
    font-weight: bold;
    margin-bottom: 0.5rem;
    color: var(--color-accent, blue);

  }
  .randomicon {
    padding: 1rem;
    min-width: 20rem;
  height: calc(651.24px - 366.28px - 1rem);
     display: flex;
     flex-direction: column;
    justify-content: center;
    border: 2px solid var(--color-accent, blue);
    border-radius: 20px;

  }
  .randomicon:hover {
    background-color: var(--color-accent, blue);
    color: white;
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    border-radius: 30px;
    ;
  }

  .randomicon:hover p {
    color: white;
  }

  .swatch { width:400px; height:28px; border-radius:6px; border:2px solid rgba(0,0,0,0.05); background:var(--color-accent); box-shadow:0 2px 6px rgba(0,0,0,0.08) }

  .accent-btn { padding:0.4rem 0.7rem; border-radius:8px; border:2px solid var(--color-accent); background:transparent; color:var(--color-accent); cursor:pointer }
  .accent-btn:hover { background:var(--color-accent); color:var(--astro-body-bg,white) }
</style>

<!--
Usage: import `AccentColor` in a layout or page to initialize `--color-accent`.
You can call `window.__accent.regen()` from the console to regenerate.
-->

